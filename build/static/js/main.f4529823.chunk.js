(this["webpackJsonpanimated-shopping-web"]=this["webpackJsonpanimated-shopping-web"]||[]).push([[0],{45:function(e,t,c){},62:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c(1),s=c.n(n),i=c(17),a=c.n(i),d=(c(45),c(4)),o=c(5),l=c(7),j=c(6),u=c(15),h=c(38),O=c(14),b="FETCH_PRODUCTS",p="FILTER_PRODUCTS_BY_SIZE",x="ORDER_PRODUCTS_BY_PRICE",m="ADD_TO_CART",f="REMOVE_FROM_CART",v="CREATE_ORDER",y="CLEAR_ORDER",C="FETCH_ORDERS",g="DELETE_ORDER",N=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||u.d,I=Object(u.e)(Object(u.c)({products:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p:return Object(O.a)(Object(O.a)({},e),{},{size:t.payload.size,filteredItems:t.payload.items});case x:return Object(O.a)(Object(O.a)({},e),{},{sort:t.payload.sort,filteredItems:t.payload.items});case b:return{items:t.payload,filteredItems:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:JSON.parse(localStorage.getItem("cartItems")||"[]")},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m:case f:return{cartItems:t.payload.cartItems};default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return{order:t.payload};case y:return{order:null};case C:case g:return{orders:t.payload};default:return e}}}),{},N(Object(u.a)(h.a))),E=c(13),_=c(25),S=c(3);function R(e){return"$"+Number(e.toFixed(1)).toLocaleString()+" "}var T=c(19),k=c.n(T),A=c(22),L=c.n(A),D=c(23),w=c.n(D),M=c(16),P=c.n(M),F=c(24),z=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(e){var r;return Object(d.a)(this,c),(r=t.call(this,e)).openModal=function(e){r.setState({product:e})},r.closeModal=function(){r.setState({product:null})},r.state={product:null},r}return Object(o.a)(c,[{key:"componentDidMount",value:function(){this.props.fetchProducts()}},{key:"render",value:function(){var e=this,t=this.state.product;return Object(r.jsxs)("div",{children:[Object(r.jsx)(k.a,{bottom:!0,cascade:!0,children:this.props.products?Object(r.jsx)("ul",{className:"products",children:this.props.products.map((function(t){return Object(r.jsx)("li",{children:Object(r.jsxs)("div",{className:"product",children:[Object(r.jsxs)("a",{href:"#"+t._id,children:[Object(r.jsx)("img",{src:t.image,alt:t.title,onClick:function(){return e.openModal(t)}}),Object(r.jsx)("p",{children:t.title})]}),Object(r.jsxs)("div",{className:"product-price",children:[Object(r.jsx)("div",{children:R(t.price)}),Object(r.jsx)("button",{onClick:function(){return e.props.addToCart(t)},className:"button primary",children:"Add To Cart"})]})]})},t._id)}))}):Object(r.jsx)("div",{children:"Loading..."})}),t&&Object(r.jsx)(L.a,{isOpen:!0,onRequestClose:this.closeModal,children:Object(r.jsxs)(w.a,{children:[Object(r.jsx)("button",{className:"close-modal",onClick:this.closeModal,children:"x"}),Object(r.jsxs)("div",{className:"product-details",children:[Object(r.jsx)("img",{src:t.image,alt:t.title}),Object(r.jsxs)("div",{className:"product-details-description",children:[Object(r.jsx)("p",{children:Object(r.jsx)("strong",{children:t.title})}),Object(r.jsx)("p",{children:t.description}),Object(r.jsxs)("p",{children:["Available Sizes: "," ",t.availableSizes.map((function(e){return Object(r.jsxs)("span",{children:[" ",Object(r.jsx)("button",{className:"button",children:e})]})}))]}),Object(r.jsxs)("div",{className:"product-price",children:[Object(r.jsx)("div",{children:R(t.price)}),Object(r.jsx)("button",{className:"button primary",onClick:function(){e.props.addToCart(t),e.closeModal()},children:"Add to cart"})]})]})]})]})})]})}}]),c}(n.Component),X=Object(E.b)((function(e){return{products:e.products.filteredItems}}),{fetchProducts:function(){return function(){var e=Object(F.a)(P.a.mark((function e(t){var c,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/products");case 2:return c=e.sent,e.next=5,c.json();case 5:r=e.sent,t({type:b,payload:r});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},addToCart:function(e){return function(t,c){var r=c().cart.cartItems.slice(),n=!1;r.forEach((function(t){t._id===e._id&&(n=!0,t.count++)})),n||r.push(Object(O.a)(Object(O.a)({},e),{},{count:1})),t({type:m,payload:{cartItems:r}}),localStorage.setItem("cartItems",JSON.stringify(r))}}})(z),J=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){return Object(d.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){var e=this;return this.props.filteredProducts?Object(r.jsxs)("div",{className:"filter",children:[Object(r.jsxs)("div",{className:"filter-result",children:[this.props.filterProducts.length," Products Found"]}),Object(r.jsxs)("div",{className:"filter-sort",children:["Order "," ",Object(r.jsxs)("select",{value:this.props.sort,onChange:function(t){return e.props.sortProducts(e.props.filteredProducts,t.target.value)},children:[Object(r.jsx)("option",{value:"latest",children:" Latest"}),Object(r.jsx)("option",{value:"lowest",children:"Lowest"}),Object(r.jsx)("option",{value:"highest",children:"Highest"})]})]}),Object(r.jsxs)("div",{className:"filter-size",children:["Filter "," ",Object(r.jsxs)("select",{value:this.props.size,onChange:function(t){return e.props.filterProducts(e.props.products,t.target.value)},children:[Object(r.jsx)("option",{value:"ALL",children:"ALL"}),Object(r.jsx)("option",{value:"XS",children:"XS"}),Object(r.jsx)("option",{value:"S",children:"S"}),Object(r.jsx)("option",{value:"M",children:"M"}),Object(r.jsx)("option",{value:"L",children:"L"}),Object(r.jsx)("option",{value:"XL",children:"XL"}),Object(r.jsx)("option",{value:"XXL",children:"XXL"})]})]})]}):Object(r.jsx)("div",{children:"Loading..."})}}]),c}(n.Component),q=Object(E.b)((function(e){return{size:e.products.size,sort:e.products.sort,products:e.products.items,filteredProducts:e.products.filteredItems}}),{filterProducts:function(e,t){return function(c){c({type:p,payload:{size:t,items:"ALL"===t?e:e.filter((function(e){return e.availableSizes.indexOf(t)>=0}))}})}},sortProducts:function(e,t){return function(c){var r=e.slice();"latest"===t?r.sort((function(e,t){return e._id>t._id?1:-1})):r.sort((function(e,c){return"lowest"===t?e.price>c.price?1:-1:e.price>c.price?-1:1})),c({type:x,payload:{sort:t,items:r}})}}})(J),U=c(21),Y=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(e){var r;return Object(d.a)(this,c),(r=t.call(this,e)).handleInput=function(e){r.setState(Object(U.a)({},e.target.name,e.target.value))},r.createOrder=function(e){e.preventDefault();var t={name:r.state.name,address:r.state.address,email:r.state.email,cartItems:r.props.cartItems,total:r.props.cartItems.reduce((function(e,t){return e+t.price*t.count}),0)};r.props.createOrder(t)},r.closeModal=function(){r.props.clearOrder()},r.state={showCheckOut:!1,name:"",email:"",address:""},r}return Object(o.a)(c,[{key:"render",value:function(){var e=this,t=this.props,c=t.cartItems,n=t.order;return Object(r.jsxs)("div",{children:[0===c.length?Object(r.jsx)("div",{className:"cart cart-header",children:"Cart is empty"}):Object(r.jsxs)("div",{className:"cart cart-header",children:["You have ",c.length," in the cart!"]}),n&&Object(r.jsx)(L.a,{isOpen:!0,onRequestClose:this.closeModal,children:Object(r.jsxs)(w.a,{children:[Object(r.jsx)("button",{className:"close-modal",onClick:this.closeModal,children:"x"}),Object(r.jsxs)("div",{className:"order-details",children:[Object(r.jsx)("h2",{className:"success-message",children:"Your order has been placed."}),Object(r.jsxs)("h3",{children:["Order Id: ",n._id]}),Object(r.jsxs)("ul",{children:[Object(r.jsxs)("li",{children:[Object(r.jsx)("div",{children:"Name:"}),Object(r.jsx)("div",{children:n.name})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("div",{children:"Email:"}),Object(r.jsx)("div",{children:n.email})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("div",{children:"Address:"}),Object(r.jsx)("div",{children:n.address})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("div",{children:"Date:"}),Object(r.jsx)("div",{children:n.createdAt})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("div",{children:"Total:"}),Object(r.jsx)("div",{children:R(n.total)})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("div",{children:"Cart Items:"}),Object(r.jsx)("div",{className:"items",children:n.cartItems.map((function(e){return Object(r.jsxs)("div",{children:[e.count," "," x "," ",e.title]})}))})]})]})]})]})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"cart",children:Object(r.jsx)(k.a,{left:!0,cascade:!0,children:Object(r.jsx)("ul",{className:"cart-items",children:c.map((function(t){return Object(r.jsxs)("li",{children:[Object(r.jsx)("div",{children:Object(r.jsx)("img",{src:t.image,alt:t.title})}),Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{children:t.title}),Object(r.jsxs)("div",{className:"right",children:[R(t.price)," x ",t.count," ",Object(r.jsx)("button",{className:"button",onClick:function(){return e.props.removeFromCart(t)},children:"Remove"})]})]})]},t._id)}))})})}),0!==c.length&&Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{className:"cart",children:Object(r.jsxs)("div",{className:"total",children:[Object(r.jsxs)("div",{children:["Total:"," ",R(c.reduce((function(e,t){return e+t.price*t.count}),0))]}),Object(r.jsx)("button",{onClick:function(){e.setState({showCheckOut:!0})},className:"button primary",children:"Proceed"})]})}),this.state.showCheckOut&&Object(r.jsx)(k.a,{right:!0,cascade:!0,children:Object(r.jsx)("div",{className:"cart",children:Object(r.jsx)("form",{onSubmit:this.createOrder,children:Object(r.jsxs)("ul",{className:"form-container",children:[Object(r.jsxs)("li",{children:[Object(r.jsx)("label",{children:"Email"}),Object(r.jsx)("input",{name:"email",type:"email",required:!0,onChange:this.handleInput})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("label",{children:"Name"}),Object(r.jsx)("input",{name:"name",type:"text",required:!0,onChange:this.handleInput})]}),Object(r.jsxs)("li",{children:[Object(r.jsx)("label",{children:"Address"}),Object(r.jsx)("input",{name:"address",type:"text",required:!0,onChange:this.handleInput})]}),Object(r.jsx)("li",{children:Object(r.jsx)("button",{type:"submit",className:"button primary",children:"Checkout"})})]})})})})]})]})]})}}]),c}(n.Component),B=Object(E.b)((function(e){return{order:e.order.order,cartItems:e.cart.cartItems}}),{removeFromCart:function(e){return function(t,c){var r=c().cart.cartItems.slice().filter((function(t){return t._id!==e._id}));t({type:f,payload:{cartItems:r}}),localStorage.setItem("cartItems",JSON.stringify(r))}},createOrder:function(e){return function(t){fetch("/api/orders",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(e){t({type:v,payload:e}),localStorage.clear("cartItems"),t({type:"CLEAR_CART"})}))}},clearOrder:function(){return function(e){e({type:y})}}})(Y),H=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){return Object(d.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){return Object(r.jsx)("div",{children:Object(r.jsxs)("div",{className:"content",children:[Object(r.jsxs)("div",{className:"main",children:[Object(r.jsx)(q,{}),Object(r.jsx)(X,{})]}),Object(r.jsx)("div",{className:"sidebar",children:Object(r.jsx)(B,{})})]})})}}]),c}(s.a.Component),V=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){return Object(d.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"componentDidMount",value:function(){this.props.fetchOrders()}},{key:"render",value:function(){var e=this,t=this.props.orders;return t?Object(r.jsxs)("div",{className:"orders",children:[Object(r.jsx)("h2",{children:"Orders"}),Object(r.jsxs)("table",{children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{children:"ID"}),Object(r.jsx)("th",{children:"DATE"}),Object(r.jsx)("th",{children:"TOTAL"}),Object(r.jsx)("th",{children:"NAME"}),Object(r.jsx)("th",{children:"EMAIL"}),Object(r.jsx)("th",{children:"ADDRESS"}),Object(r.jsx)("th",{children:"ITEMS"}),Object(r.jsx)("th",{children:"EDIT"})]})}),Object(r.jsx)("tbody",{children:t.map((function(c){return Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:c._id}),Object(r.jsx)("td",{children:c.createdAt}),Object(r.jsxs)("td",{children:[" ",R(c.total)]}),Object(r.jsx)("td",{children:c.name}),Object(r.jsx)("td",{children:c.email}),Object(r.jsx)("td",{children:c.address}),Object(r.jsx)("td",{children:c.cartItems.map((function(e){return Object(r.jsxs)("div",{children:[e.count," "," x "," ",e.title]})}))}),Object(r.jsx)("td",{children:Object(r.jsx)("button",{className:"button primary",onClick:function(){return e.props.removeFromOrders(t,c)},children:"Delete"})})]})}))})]})]}):Object(r.jsx)("div",{children:"Orders"})}}]),c}(n.Component),Z=Object(E.b)((function(e){return{orders:e.order.orders}}),{fetchOrders:function(){return function(e){fetch("/api/orders").then((function(e){return e.json()})).then((function(t){e({type:C,payload:t})}))}},removeFromOrders:function(e,t){return function(){var c=Object(F.a)(P.a.mark((function c(r){var n,s,i;return P.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,fetch("/api/orders/".concat(t._id),{method:"DELETE"});case 2:return n=c.sent,c.next=5,n.json();case 5:s=c.sent,i=e.filter((function(e){return s._id!==e._id})),r({type:g,payload:i});case 8:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}})(V),$=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){return Object(d.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){return Object(r.jsx)("div",{children:Object(r.jsx)(Z,{})})}}]),c}(n.Component),G=function(e){Object(l.a)(c,e);var t=Object(j.a)(c);function c(){return Object(d.a)(this,c),t.apply(this,arguments)}return Object(o.a)(c,[{key:"render",value:function(){return Object(r.jsx)(E.a,{store:I,children:Object(r.jsx)(_.a,{children:Object(r.jsxs)("div",{className:"grid-container",children:[Object(r.jsxs)("header",{children:[Object(r.jsx)(_.b,{to:"/",children:"Awesome Shopping Cart"}),Object(r.jsx)(_.b,{to:"/admin",children:"Admin"})]}),Object(r.jsxs)("main",{children:[Object(r.jsx)(S.a,{path:"/",component:H,exact:!0}),Object(r.jsx)(S.a,{path:"/admin",component:$})]}),Object(r.jsx)("footer",{children:"All right is reserved."})]})})})}}]),c}(s.a.Component);a.a.render(Object(r.jsx)(s.a.StrictMode,{children:Object(r.jsx)(G,{})}),document.getElementById("root"))}},[[62,1,2]]]);
//# sourceMappingURL=main.f4529823.chunk.js.map